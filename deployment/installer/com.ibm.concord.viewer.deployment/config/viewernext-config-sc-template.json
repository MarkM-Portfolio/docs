{
	"component":
	{
		"components":
		[
			{
				"id":"com.ibm.concord.viewer.platform.repository",
				"class":"com.ibm.concord.viewer.platform.repository.RepositoryComponent",
				"config":
				{
					"adapters" :
        			[
        				{
        					"id" : "lcfiles",
			        	  	"class" : "com.ibm.concord.viewer.lc3.repository.LCFilesCMISRepository",
							"config" :
							{
								"files_path" : "$files_path",
								"server_url" : "dummy.url",
								"s2s_method" : "conn_live",
								"s2s_token" : "dummy.token",
								"cache_type": "nfs"
							}
			          	},
						{
							"id": "tempstorage",
							"class" : "com.ibm.concord.viewer.tempstorage.repository.TempStorageRepository",
							"config" :
							{
								"cache_type": "nfs"
							}
						},
						{
							"id": "mail",
							"class" : "com.ibm.docs.viewer.mail.repository.MailRepository",
							"config" :
							{
								"cache_type": "local",
								"cache_encrypt": "true"
							}
						},
						{
        					"id" : "vsfiles",
			        	  	"class" : "com.ibm.concord.viewer.lc3.repository.LCFilesCMISRepository",
							"config" :
							{
								"server_url" : "dummy.url",
								"s2s_method" : "conn_live",
								"s2s_token" : "dummy.token",
								"cache_type": "local",
								"cache_encrypt": "true"
							}
			          	},
			          	{
							"id" : "toscana",
							"class" : "com.ibm.docs.viewer.external.repository.rest.ExternalRestRepository",
							"config" :
							{
								"cache_type": "local",
								"s2s_method" : "oauth2",
								"customer_id" : "toscana-web-client-id",
								"oauth2_grant_type":"password",
								"oauth2_endpoint" : "$toscana_oauth_endpoint",
								"media_meta_url" : "$toscana_file_server/content/docs/{ID}/meta",
								"media_get_url" : "$toscana_file_server/content/docs/{ID}/content",
								"thumbnail_set_url" : "$toscana_file_server/content/docs/{ID}/thumbnail",
								"media_set_url" : "$toscana_file_server/content/docs/{ID}/content"
							}
						},
						{
							"id" : "sanity",
							"class" : "com.ibm.docs.viewer.external.repository.rest.ExternalRestRepository",
							"config" :
							{
								"s2s_method" : "s2s_token",
								"customer_id" : "rest.com",
								"oauth2_endpoint" : "",
								"j2c_alias" : "docsAdmin",
								"s2s_token" : "sanity",
								"token_key" : "token",
								"onbehalf_header" : "",
								"media_meta_url" : "http://localhost:9080/vsanity/files/{ID}/meta",
								"media_get_url" : "http://localhost:9080/vsanity/files/{ID}/content",
								"thumbnail_set_url" : "http://localhost:9080/vsanity/files/{ID}/thumbnail",
								"viewer_url" : "http://localhost:9080/"
							}
						}

			      	],
			      	"uploadRepository": "vsfiles"
				}
			},
			{
				"id":"com.ibm.concord.viewer.platform.conversion",
				"class":"com.ibm.concord.viewer.platform.conversion.ConversionComponentImpl",
				"config":
				{
					 "symphonyServerConfig" : "symphony-config.xml",
					  "conversionService":
					 {
					 		"serviceurl":"$conversion_url/ConversionService",
					 		"resulturl":"$conversion_url/ConversionResult",
					 		"intervalofretry":"1000",
					 		"maxPerRoute":"100",
					 		"maxTotal":"200",
							"sheet_stellent":{
								"outputid": "FI_PNG",
								"usedocpagesettings": "false",
								"defaultheight": "17",
								"defaultwidth": "55",
								"units": "inches",
								"usedocsettings": "false",
								"ssshowgridlines": "true",
								"imagecropping": "nocropping",
								"graphicoutputdpi": "96",
								"graphicsizemethod": "quick",
								"quickthumbnail": "true",
								"graphicwidthlimit": "0",
								"graphicwidth": "3541",
								"whattoexport": "range",
								"exportstartpage": "0",
								"exportendpage": "40",
								"thumbnailwidth": "300",
								"convertthumbnail":"false"
							},
							"text_stellent":{
								"outputid":"FI_PNG",
								"graphicoutputdpi": "96",
								"graphicsizemethod": "quick",
								"quickthumbnail": "true",
								"graphicwidth": "1024",
								"thumbnailwidth": "300"
							},
							"pres_stellent":{
								"outputid":"FI_JPEG",
								"jpegquality":"80",
								"graphicoutputdpi": "96",
								"graphicsizemethod": "quick",
								"quickthumbnail": "true",
								"graphicwidth": "1024",
								"thumbnailwidth": "300"
							},
							"stellent":{
								"outputid":"FI_PNG",
								"graphicwidth": "1024",
								"thumbnailwidth": "300",
								"graphicoutputdpi": "96",
								"graphicsizemethod": "quick",
								"quickthumbnail": "true"
							}
					 }
				}
			},
			{
				"id":"com.ibm.concord.viewer.platform.cache",
				"class":"com.ibm.concord.viewer.platform.cache.CacheComponent",
				"config":
				{
					"adapter" :
        			{
        				"id" : "nls",
			          	"class" : "com.ibm.concord.viewer.cache.spi.impl.NFSCacheStorageAdapter"
			        }
				}
			},
			{
				"id":"com.ibm.concord.viewer.platform.auth",
				"class":"com.ibm.concord.viewer.platform.auth.AuthenticationComponentImpl",
				"config":
				{
					"adapters":
					[
						{
						    "id" : "mail",
							"class":"com.ibm.docs.viewer.mail.auth.MailAuth",
							"config" :
								{
									"auth_type": "$auth_type",
									"auth_host": "$auth_host"
								}
						},
						{
							"id" : "toscana",
							"class":"com.ibm.docs.viewer.external.auth.ExternalAuth",
							"config" : {
								"s2s_method" : "oauth2",
								"bypass_sso" : "true",
								"oauth2_authorize_endpoint": "$toscana_oauth_endpoint",
								"customer_id": "toscana-web-client-id"
							}
						},
						{
							"id" : "sanity",
							"class":"com.ibm.docs.viewer.external.auth.ExternalAuth",
							"config" : {
								"s2s_method" : "s2s_token",
								"s2s_token" : "sanity",
								"bypass_sso" : "true"
							}
						}
					],
					"default" : "mail"
				}
			},
			{
				"id":"com.ibm.concord.viewer.platform.directory",
				"class":"com.ibm.concord.viewer.platform.directory.DirectoryComponentImpl",
				"config":
				{
					"adapters":
					[
						{
						    "id" : "lcfiles",
							"class":"com.ibm.concord.viewer.lc3.directory.LotusConnectionsDirectory",
							"config" : {
							}
						},
						{
							"id" : "toscana",
							"class":"com.ibm.docs.viewer.external.directory.ExternalDirectory",
							"config" : {
								"profiles_url" : "$toscana_file_server/content/docs/users",
								"current_user_profiles_url" : "$toscana_file_server/content/docs/users/me",
								"bypass_sso" : "true",
								"s2s_method" : "oauth2",
								"customer_id" : "toscana-web-client-id",
								"oauth2_grant_type":"password",
								"oauth2_endpoint" : "$toscana_oauth_endpoint",
								"keys" : {
									"id_key" : "id",
									"name_key" : "name",
									"display_name_key" : "displayname",
									"email_key" : "email",
									"photo_url_key" : "photo_url",
									"org_id_key" : "org_id",
									"url_query_key" : "userid"
								}
							}
						},
						{
							"id" : "sanity",
							"class":"com.ibm.docs.viewer.external.directory.ExternalDirectory",
							"config" : {
								"profiles_url" : "http://localhost:9080/vsanity/files/profiles",
								"current_user_profiles_url" : "http://localhost:9080/vsanity/files/profiles",
								"bypass_sso" : "true",
								"s2s_method" : "s2s_token",
								"customer_id" : "rest.com",
								"oauth2_endpoint" : "",
								"j2c_alias" : "",
								"s2s_token" : "sanity",
								"token_key" : "sanity",
								"onbehalf_header" : "",
								"docs_callback_endpoint" : "http://localhost:9080/docs/driverscallback",
								"keys" : {
									"id_key" : "id",
									"name_key" : "name",
									"display_name_key" : "display_name",
									"email_key" : "email",
									"photo_url_key" : "photo_url",
									"org_id_key" : "org_id",
									"url_query_key" : "userid"
								}
							}
						}
					]
				}
			},
			{
				"id":"com.ibm.concord.viewer.document.services",
				"class":"com.ibm.concord.viewer.document.services.DocumentServiceComponentImpl",
				"config":
				{
					"providers" : [
						{
							"name":"text",
							"class":"com.ibm.concord.viewer.document.common.TextDocumentService",
							"config":
							{
								"limits":
								{
									"max-size": "51200"
								}
							}
						},
						{
							"name":"sheet",
							"class":"com.ibm.concord.viewer.document.common.SpreadsheetDocumentService",
							"config":
							{
								"partial-level": "1",
								"limits":
								{
									"max-size": "51200"
								}
							}
						},
						{
							"name":"pres",
							"class":"com.ibm.concord.viewer.document.common.PresentationDocumentService",
							"config":
							{
								"limits":
								{
									"max-size": "102400"
								}
							}
						},
						{
							"name":"pdf",
							"class":"com.ibm.concord.viewer.document.common.PDFDocumentService",
							"config":
							{
								"limits":
								{
									"max-size": "51200"
								}
							}
						}
					],
					"mime-types" : {
						"application/msword" : "text",
						"application/vnd.openxmlformats-officedocument.wordprocessingml.document" : "text",
						"application/vnd.openxmlformats-officedocument.wordprocessingml.template": "text",
						"application/vnd.oasis.opendocument.text" : "text",
						"application/vnd.oasis.opendocument.text-template": "text",
						"application/vnd.ms-powerpoint" : "pres",
						"application/vnd.openxmlformats-officedocument.presentationml.presentation" : "pres",
						"application/vnd.openxmlformats-officedocument.presentationml.template": "pres",
						"application/vnd.oasis.opendocument.presentation" : "pres",
						"application/vnd.oasis.opendocument.presentation-template": "pres",
						"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" : "sheet",
						"application/vnd.ms-excel.sheet.macroenabled.12" : "sheet",
						"application/vnd.ms-excel.sheet.macroEnabled" : "sheet",
						"application/vnd.ms-excel.sheet.macroEnabled.12" : "sheet",
						"application/vnd.openxmlformats-officedocument.spreadsheetml.template" : "sheet",
						"application/vnd.ms-excel" : "sheet",
						"application/vnd.oasis.opendocument.spreadsheet" : "sheet",
						"application/vnd.oasis.opendocument.spreadsheet-template" : "sheet",
						"application/pdf" : "pdf",
						"application/rtf": "text",
						"text/plain": "text"
					}
				}
			},
			{
				"id":"com.ibm.concord.viewer.platform.journal",
				"class":"com.ibm.concord.viewer.platform.journal.JournalComponentImpl",
				"config":
				{
					"adapter":
					{
						"class":"com.ibm.concord.viewer.lc3.journal.JournalLC3JMSPublisher",
						"config" : {
						}
					}
				}
			}
		]
	},
	"thumbnails":
	{
		"size":
		[
			{
			    "type" : "small",
				"width" : "100",
				"height" : "75"
			},
			{
				"type" : "medium",
				"width" : "250",
				"height" : "188"
			},
			{
				"type" : "large",
				"width" : "500",
				"height" : "375"
			}
		],
		"jobcache":
		{
			"timetolive-seconds" : "150"
		},
		"age_threshold_of_thumbnailSrv_latest_version" :"1",
		"capacity_of_thumbnailSrv_image_taskqueue" : "512"
	},
	"docentrycache" :
	{
		"timetolive-seconds" : "60"
	},
	"House_Keeping" :
	{
		"frequency" : "$housekeeping_frequency",
		"age_threshold_of_rendition_latest_version" : "$housekeeping_age_threshold_of_rendition_latest_version",
		"size_threshold_of_rendition_cache" : "$housekeeping_size_threshold_of_rendition_cache",
		"age_threshold_of_mail_attachment" : "7",
		"disk_threshold_of_cache" : "0.4"
	},
	"IHS_fast_download" :
	{
		"enabled" : "false",
		"cache_root_alias" : "/rendition_content"
	},
	"S2S" :
	{
		"token" : "fallseason2011"
	},
	"browserCache" :
	{
		"enabled" : "false"
	},
	"http-params":
	{
		"cache-control":"365",
		"gzip":"false",
		"exclude":"pdf|jpg|jpeg|png|gif"
	},
	"docs_integration":
	{
		"host": "$docs_url",
		"docs_context_root": "/docs/app/doc/lcfiles/{docid}/edit/content",
		"docs_enabled": "$editor_installed",
		"doc_not_supported_by_docs": "pdf",
		"shared_data_root": "$docs_shared_data_dir",
		"snapshot_dir": "snapshot/media",
		"snapshot_service_uri": "/docs/api/docsvr/lcfiles/{docid}/draft/snapshot"
	},
	"lotusLiveIntegration":
	{
		"lotuslive_url": "http://$$P__acbackendIP$$",
		"themeConfig":
			{
				"enabled": "false",
				"theme_url": "/theming/theme/css"
			}
	},
	"multitenancy":
	{
		"enablement": "$multi_tenancy",
        "tenant_pattern" : "http://{org}",
        "secure_tenant_pattern" : "https://{org}"
	},
	"Help" :
	{
		"text_helpurl" : "https://help.hcltechsw.com/docs/onprem_2.0/2.0_CR3_onprem_help/text/document/documents_frame.html",
		"sheet_helpurl" : "https://help.hcltechsw.com/docs/onprem_2.0/2.0_CR3_onprem_help/text/spreadsheet/spreadsheets_frame.html",
		"pres_helpurl" : "https://help.hcltechsw.com/docs/onprem_2.0/2.0_CR3_onprem_help/text/presentation/presentations_frame.html"
	},
	"deployment":
	{
		"env":"smart_cloud",
		"symbol":"verse"
	},
	"iNotes":
	{
		"browser_cache": "$browser_cache",
		"enable_print": "$enable_print"
	},
	"file_size_threshold" :
	{
		"application/msword" : "0",
		"application/vnd.ms-powerpoint" : "0",
		"application/vnd.openxmlformats-officedocument.wordprocessingml.document" : "0",
		"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" : "0",
		"application/vnd.ms-excel.sheet.macroenabled.12" : "0",
		"application/vnd.ms-excel.sheet.macroEnabled" : "0",
		"application/vnd.ms-excel.sheet.macroEnabled.12" : "0",
		"application/vnd.openxmlformats-officedocument.presentationml.presentation" : "0",
		"application/vnd.oasis.opendocument.text" : "0",
		"application/vnd.ms-excel" : "0",
		"application/vnd.oasis.opendocument.spreadsheet" : "0",
		"application/vnd.oasis.opendocument.presentation" : "0",
		"application/vnd.openxmlformats-officedocument.wordprocessingml.template" : "0",
		"application/vnd.oasis.opendocument.text-template" : "0",
		"application/vnd.openxmlformats-officedocument.presentationml.template" : "0",
		"application/vnd.oasis.opendocument.presentation-template" : "0",
		"application/vnd.openxmlformats-officedocument.spreadsheetml.template" : "0",
		"application/vnd.oasis.opendocument.spreadsheet-template" : "0",
		"application/pdf" : "0",
		"application/rtf" : "0",
		"text/plain": "0"
	},
	"ProxyErrorRetry":
	{
		"count": "60"
	},
	"convert_on_upload":
	{
		"viewer_cache": "$convert_on_upload"
	},
	"policy":
	{
		"view_rule": "rule1"
	},
	"display_mode":
	{
		"enable_fullviewer": "false"
	},
	"async_upload":
	{
		"max_thread_count": "50",
		"time_out": "60000"
	},
	"PDFViewerConfig":
	{
		"PDFJs_view_mode": "true",
		"PDFJs_range_disabled" : "true",
		"PDFJs_agent_list" :
		{
			"Safari" : "(5.1)",
			"Chrome" : "(39|40|6\\d)"
		}
	},
	"topology_shared":{
		"bss_be_url" : "dummy.bss",
		"virtual_hosts_junction_domain" : "dummy.domain"
	},
	"HtmlViewerConfig":
	{
		"enabled": "true",
		"exclude": "",
		"snapshot_mode": "true",
		"partial-level": "2",
		"partial-row-count": "200",
		"hbtimeout":"30000",
		"text-limits":
		{
			"max-size": "30720",
			"actual-max-size": "30720",
			"max-image-size": "8192",
			"max-html-size":"4096",
			"max-page-count": "600",
			"max-pure-text-size": "768",
			"max-txt-size": "768",
			"max-rtf-size": "10240"
		},
		"sheet-limits":
		{
			"max-size": "20480",
			"actual-max-size": "20972",
			"max-image-size": "8192",
			"max-text-size": "5120",
			"max-sheet-rows": "30000",
			"max-sheet-columns": "1024",
			"cell-max-num":"1000000",
			"formula-cell-max-num":"100000",
			"unsupported-feature":
			[
				"data_pilot",
				"conditional_formatting"
			]
		},
		"pres-limits":
		{
			"max-size": "102400",
			"max-image-size": "8192",
			"actual-max-size": "102400",
			"max-pages":"300",
			"encode-graphics": true,
			"encode-threshold-graphics": 2048,
			"unsupported-feature":
			[
				"Animation"
			]
		},
		"CustomizedFonts" :
		{
			"enabled": "true",
			"general": ["Arial/Arial, Helvetica, sans-serif", "Times New Roman/Times New Roman, Times, serif"],
			"globalized":
			{
				"ca": [],
				"da": [],
				"de": [],
				"el": [],
				"en": [],
				"es": [],
				"fi": [],
				"fr": [],
				"it": [],
				"ja": [],
				"ko": [],
				"nl": [],
				"no": [],
				"pl": [],
				"pt": [],
				"pt-br": [],
				"ru": [],
				"sv": [],
				"th": [],
				"tr": [],
				"zh-cn": [],
				"zh-tw": []
			}
		}
	},
    "shared-storages" :
    {
        "docs" : "#DOCS2NFS#",
        "files" : "#FILES2NFS#",
        "viewer" : "#VIEWER2NFS#"
    },
	"WhiteDomainList": [
		"$local_host_domain",
		"https://app.box.com"
	],
	"build-info" :
    {
        "product_name" : "ViewerVerse",
        "build_version" : "$build_version",
        "build_timestamp" : "$build_timestamp",
        "build_description" : "ViewerVerse $build_version"
    }
}
